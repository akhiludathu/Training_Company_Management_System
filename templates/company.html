<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Free Education Template</title>
    <!-- BOOTSTRAP CORE STYLE CSS -->
    <link href="../static/bootstrap.css" rel="stylesheet" />
    <!-- FONT AWESOME CSS -->
    <!--link href="../static/font-awesome.min.css" rel="stylesheet" /-->
     <!-- FLEXSLIDER CSS -->
    <link href="../static/flexslider.css" rel="stylesheet" />
    <!-- CUSTOM STYLE CSS -->
    <link href="../static/style.css" rel="stylesheet" />
    <!-- Google	Fonts -->
  	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css' />
</head>


<body >

 <div class="navbar navbar-inverse navbar-fixed-top " id="menu">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#"><img class="logo-custom" src="../static/logo180-50.png" alt=""  /></a>
            </div>
            <div class="navbar-collapse collapse move-me">
                <ul class="nav navbar-nav navbar-right">
                    <li ><a href="#home">HOME</a></li>
                    <li><a href="#features-sec">PROGRAMS</a></li>
                    <li><a href="#faculty-sec">ADD TRAINEE</a></li>
                    <li><a href="#course-sec">TRAINEES</a></li>
                    <li><a href="#contact-sec">REQUEST</a></li>
                    <li><a href="http://localhost:5000/logout">LOGOUT</a></li>
                </ul>
            </div>
        </div>
    </div>

<!--NAVBAR SECTION END-->

<div class="home-sec" id="home" >
  <div class="overlay">
    <div class="container">
        <div class="row text-center " >
            <div class="col-lg-12  col-md-12 col-sm-12">
              <div class="flexslider set-flexi" id="main-section" >
                  <ul class="slides move-me">
                    <li>
                      <h3>Delivering Quality Training</h3>
                        <h1>WELCOME {{user}}</h1>
                    </li>
                  </ul>
              </div>
            </div>
        </div>
    </div>
  </div>
</div>
<!--HOME SECTION END-->

<div  class="tag-line" >
  <div class="container">
    <div class="row  text-center" >
      <div class="col-lg-12  col-md-12 col-sm-12">
        <h2 data-scroll-reveal="enter from the bottom after 0.1s" >|| MANAGE YOUR ACCOUNT || </h2>
      </div>
    </div>
  </div>
</div>

    <!--HOME SECTION TAG LINE END-->

   <div id="features-sec" class="container set-pad" >
       <div class="row text-center">
           <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
               <h1 data-scroll-reveal="enter from the bottom after 0.2s"  class="header-line">PROGRAMS CURRENTLY OFFERED </h1>
               <p data-scroll-reveal="enter from the bottom after 0.3s" >
                List of programs that we currently offer. To enroll your employees for any of these programs, please fill the request form below.
              </p>
           </div>
       </div>

    <!--/.HEADER LINE END-->

      <div class="row" id="coursesdiv">
      </div>
  </div>

<!-- FEATURES SECTION END-->

  <div id="faculty-sec" >
    <div class="container set-pad">
      <div class="row text-center">
        <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
          <h1 data-scroll-reveal="enter from the bottom after 0.1s" class="header-line">ADD TRAINEE </h1>
           <p data-scroll-reveal="enter from the bottom after 0.3s">
            Register a new trainee for one of our distinguished programs.<br>
            Note that a trainee can only be part of one program at any time.
            </p>
        </div>
      </div>
 <!--/.HEADER LINE END-->

     <div class="row set-row-pad"  data-scroll-reveal="enter from the bottom after 0.5s" >
        <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">
           <form id="newtraineeform">
               <div class="form-group">
                   <input name="id" list="progs" type="text" class="form-control "  required="required" placeholder="Program ID (Double click for dropdown)" />
                   <datalist id="progs">
                   </datalist>
               </div>
               <div class="form-group">
                   <input name="name" type="text" class="form-control " maxlength="30" required="required"  placeholder="Trainee name" />
               </div>
               <div class="form-group">
                   <input name="phone" type="text" class="form-control " maxlength="10" required="required"  placeholder="Phone number" />
               </div>
               <div class="form-group">
                   <input name="residence" type="text" class="form-control " maxlength="15" required="required"  placeholder="Residence Number" />
               </div>
               <div class="form-group">
                   <input name="street" type="text" class="form-control " maxlength="30" required="required"  placeholder="Street Name" />
               </div>
               <div class="form-group">
                   <input name="zipcode" type="text" class="form-control " maxlength="10" required="required"  placeholder="Zipcode" />
               </div>
               <div class="form-group">
                   <button id="addtraineebtn" type="button" class="btn btn-info btn-block btn-lg">SUBMIT</button>
               </div>
           </form>
       </div>
     </div>
   </div>
 </div>
</div>

<!-- FACULTY SECTION END-->

  <div id="course-sec" class="container set-pad">
    <div class="row text-center">
      <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
        <h1 data-scroll-reveal="enter from the bottom after 0.1s" class="header-line">TRAINEES FROM {{user}} </h1>
           <p data-scroll-reveal="enter from the bottom after 0.3s">
            List of trainees from your company who are currently enrolled with us.
            </p>
      </div>
    </div>

    <!--/.HEADER LINE END-->

    <div class="row set-row-pad" >
      <table id="TraineeTable" class="table-fill">
        <thead>
          <tr>
            <th class="text-center">Trainee ID</th>
            <th class="text-center">Name</th>
            <th class="text-center">Program Name</th>
            <th class="text-center">Grade</th>
            <th class="text-center">Phone number</th>
            <th class="text-center">Remove</th>
          </tr>
        </thead>

        <tbody class="table-hover">
        </tbody>
      </table>
    </div>
  </div>

<!-- COURSES SECTION END-->

  <div id="contact-sec"   >
    <div class="overlay">
      <div class="container set-pad">
        <div class="row text-center">
          <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
            <h1 data-scroll-reveal="enter from the bottom after 0.1s" class="header-line" >SEND US YOUR REQUEST  </h1>
               <p data-scroll-reveal="enter from the bottom after 0.3s">
                Have any queries? Please feel free to contact us!
                </p>
          </div>
        </div>

    <!--/.HEADER LINE END-->

        <div class="row set-row-pad"  data-scroll-reveal="enter from the bottom after 0.5s" >
           <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">
              <form action = "mailto:akhilu077@gmail.com" method="post" enctype="text/plain">
                  <div class="form-group">
                      <input name="name" type="text" class="form-control "  required="required" placeholder="Your Name" />
                  </div>
                  <div class="form-group">
                      <input name="email" type="text" class="form-control " required="required"  placeholder="Your Email" />
                  </div>
                  <div class="form-group">
                      <textarea name="message" required="required" class="form-control" style="min-height: 150px;" placeholder="Message"></textarea>
                  </div>
                  <div class="form-group">
                      <button type="submit" class="btn btn-info btn-block btn-lg">SUBMIT REQUEST</button>
                  </div>
              </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row set-row-pad"  >
      <div class="col-lg-4 col-md-4 col-sm-4   col-lg-offset-1 col-md-offset-1 col-sm-offset-1 " data-scroll-reveal="enter from the bottom after 0.4s">
        <h2 ><strong>Our Location </strong></h2>
          <hr />
            <div >
                <h4>234/80 -UFG , New Street,</h4>
                <h4>Switzerland.</h4>
                <h4><strong>Call:</strong>  + 67-098-907-1269 / 70 / 71 </h4>
                <h4><strong>Email: </strong>info@yourdomain.com</h4>
            </div>
      </div>

      <div class="col-lg-4 col-md-4 col-sm-4   col-lg-offset-1 col-md-offset-1 col-sm-offset-1" data-scroll-reveal="enter from the bottom after 0.4s">
        <h2 ><strong>Social Conectivity </strong></h2>
          <hr />
            <div >
              <a href="#">  <img src="../static/Social/facebook.png" alt="" /> </a>
              <a href="#"> <img src="../static/Social/google-plus.png" alt="" /></a>
              <a href="#"> <img src="../static/Social/twitter.png" alt="" /></a>
            </div>
      </div>
    </div>
  </div>

<!-- CONTACT SECTION END-->

  <div id="footer">
        &All Rights Reserved |  <a href="http://binarytheme.com" style="color: #fff" target="_blank"></a>
  </div>


<!-- FOOTER SECTION END-->

</body>

<!--  Jquery Core Script -->
<!--script src="../static/jquery-1.10.2.js"></script-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!--  API Interaction -->
<script src="../static/apiinterface.js"></script>
<!--  Core Bootstrap Script -->
<script src="../static/bootstrap.js"></script>
<!--  Flexslider Scripts -->
<script src="../static/jquery.flexslider.js"></script>
<!--  Scrolling Reveal Script -->
<script src="../static/scrollReveal.js"></script>
<!--  Scroll Scripts -->
<!--script src="../static/jquery.easing.min.js"></script-->
<!--  Custom Scripts -->
<script src="../static/custom.js"></script>


<script src="https://use.fontawesome.com/9de787dcec.js"></script>
<script>
function myFunction(t)
{
  dataa = {};
  dataa['id'] = t;
  console.log(dataa);
  $.ajax({
    url:'/removetrainee',
    type: 'POST',
    data:JSON.stringify(dataa),
    contentType: 'application/json;charset=UTF-8',
    success: function(res)
    {
      if(res == 'Success')
        alert('Trainee removed successfully')
      else if(res == 'Failure')
        alert('Trainee could not be removed')
    },
    error: function(error)
    {
      console.log(error);
    }
  });
}

$(function() {
    $.ajax({
        url: '/getPrograms',
        type: 'GET',
        success: function(res) {
            console.log(res);

            dat = JSON.parse(res)

            var progobj = dat.progs;
            var trainobj = dat.trains

            var div = $('<div>')
                      .attr('class','col-lg-4  col-md-4 col-sm-4')
                      .append($('<div>')
                        .attr('class','faculty-div')
                        .append($('<h3>'),
                        $('<hr/>'),
                        $('<h4>'),
                        $('<p>'),
                        $('<h6>')));


            var prog = '';

            $.each(progobj, function(index, value) {
                prog = $(div).clone();
                $(prog).find('h3').text(value.Name);
                $(prog).find('h4').text('Course Code: '.concat(value.Id));
                $(prog).find('h6').text('Starts on: '.concat(value.Start_Date).concat(', Duration: ').concat(value.Duration));
                $(prog).find('p').text(value.Description);
                $('#coursesdiv').append(prog);
            });

            // adding ids to dropdown box
            proglist = []
            res = dat.progs
            var length = res.length
            for(var i=0;i<length;i++)
            {
              proglist.push(res[i].Id)
            }
            var options = '';
            for(var i = 0; i < proglist.length; i++)
                options += '<option value="'+proglist[i]+'" />';

            document.getElementById('progs').innerHTML = options;


            //adding trainees to table:
            length = trainobj.length
            for(var i=0;i<length;i++)
            {
                var x=document.getElementById('TraineeTable').insertRow(1);
                var c1=x.insertCell(0);
                var c2=x.insertCell(1);
                var c3=x.insertCell(2);
                var c4=x.insertCell(3);
                var c5=x.insertCell(4);
                var c6=x.insertCell(5);

                c1.innerHTML=trainobj[i].TraineeId;
                c2.innerHTML=trainobj[i].Name;
                c3.innerHTML=trainobj[i].ProgramId;
                c4.innerHTML=trainobj[i].Grade;
                c5.innerHTML=trainobj[i].Phone;
                str = '<button class="btn btn-info" onclick="myFunction({0})">Remove</button>';
                str = str.replace("{0}",trainobj[i].TraineeId)
                c6.innerHTML=str;
            }
        },
        error: function(error) {
            console.log(error);
        }
    });
});
</script>
</html>
